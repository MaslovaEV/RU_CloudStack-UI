.. _Pulse:

Плагин Pulse
=======================

.. Contents::

Общая информация
---------------------

Плагин Pulse создан для визуализации статистики работы виртуальной машины. В текущей реализации данное расширение CloudStack-UI совместимо только с кластерами ACS, использующими гипервизор KVM. С помощью сенсоров, которые собирают статистику работы виртуальной машины посредством Libvirt API и сохраняют ее в хранилище InfluxDB и на сервер статистики с сетевой архитектурой REST, CloudStack-UI может отобразить объемы используемых ресурсов - CPU, RAM, диски для ввода/вывода данных и сетевой трафик - в форме наглядных графиков.

Pulse позволяет пользователям Apache CloudStack контролировать текущее и предшествующие рабочие состояния виртуальных машин. Плагин поддерживает различную группировку данных по времени - поминутная, почасовая, ежедневная, а также позволяет производить наложение данных для отслеживания средних и пиковых значений. 

На наш взгляд, данный плагин является важным в экосистеме CloudStack, т.к. сейчас в CloudStack не существует встроенной системы для отслеживания рабочих состояний виртуальных машин, в то время, как это необходимо системным администраторам для отслеживания работы виртуальных серверов.

Инструкции по установке и конфигурированию плагина представлены ниже.

Установка плагина Pulse
-------------------------------

Как установить и настроить плагин Pulse
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

На данный момент плагин Pulse работает только для гипервизора KVM.

Для работы с плагином Pulse убедитесь, что у вас есть `cs-pulse-server <https://github.com/bwsw/cs-pulse-server>`_ и `cs-pulse-sensor <https://github.com/bwsw/cs-pulse-sensor>`_.

Для подключения плагина Pulse необходимо:
1. Задать настройки для Pulse в ``config.json``.
2. Запустить контейнер docker, в котором указан корректный адрес ``cs-pulse-server``.

Конфигурирование Pulse
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Включите ``pulse`` в блоке ``extentions`` в файле конфигураций ``config.json``.

    "extensions": {
         ...,
         "pulse": true
       }
  
Запуск ``cloudstack-ui`` из контейнера
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

::

docker run -d -p 80:80 --name cloudstack-ui \
           ...
           -e PULSE_PLUGIN_ENDPOINT=http://url/to/cs-pulse-server \
           ...
           -v /path/to/config.json:/static/config/config.json \
           bwsw/cloudstack-ui
